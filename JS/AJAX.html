<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#progress{width: 200px;
			height: 30px;
			border: solid black 1px;}
			.percent{width: 0px;
			height: 30px;
			background: hotpink;}
		</style>
	</head>
	<body>
		<div id="progress">
			<div class="percent">
				
			</div>
		</div>
		
		
		<script type="text/javascript">
			var xhr = new XMLHttpRequest();
			
			xhr.open('GET','127.0.0.1',true);
			xhr.send();
			
			xhr.onreadystatechange = function(){
				console.log(xhr.readyState);
				if(xhr.status == 200 && xhr.readyState == 4){
					console.log('请求成功,且响应就绪');
					
					console.log(xhr.responseText);//请求结果,是一个对象
					document.body.innerHTML = xhr.response;
				}
			}
			
			//实现进度条
			xhr.onprogress = function(i){
				var per = document.getELementByClassName('percent')[0];
				per.style.width = e.loaded / e.total * 200 + 'px';
				//console.log(i.loaded / i.total *100 + '%');
			}
		</script>
	</body>
</html>
